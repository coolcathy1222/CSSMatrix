var CSSMatrix=function(e){if(!e||e==="none"){for(var t=0,n=0;t<16;t++){this["m"+((t/4|0)+1)+(t%4+1)]=t%4==(t/4|0)?1:0}return this}return this.setMatrixValue(e)};CSSMatrix.prototype={constructor:CSSMatrix,get a(){return this.m11},get b(){return this.m12},get c(){return this.m21},get d(){return this.m22},get e(){return this.m31},get f(){return this.m32},set a(e){this.m11=e},set b(e){this.m12=e},set c(e){this.m21=e},set d(e){this.m22=e},set e(e){this.m31=e},set f(e){this.m32=e},inverse:function(){var e=this.__clone__();e.m11=e.m23*e.m34*e.m42-e.m24*e.m33*e.m42+e.m24*e.m32*e.m43-e.m22*e.m34*e.m43-e.m23*e.m32*e.m44+e.m22*e.m33*e.m44;e.m12=e.m14*e.m33*e.m42-e.m13*e.m34*e.m42-e.m14*e.m32*e.m43+e.m12*e.m34*e.m43+e.m13*e.m32*e.m44-e.m12*e.m33*e.m44;e.m13=e.m13*e.m24*e.m42-e.m14*e.m23*e.m42+e.m14*e.m22*e.m43-e.m12*e.m24*e.m43-e.m13*e.m22*e.m44+e.m12*e.m23*e.m44;e.m14=e.m14*e.m23*e.m32-e.m13*e.m24*e.m32-e.m14*e.m22*e.m33+e.m12*e.m24*e.m33+e.m13*e.m22*e.m34-e.m12*e.m23*e.m34;e.m21=e.m24*e.m33*e.m41-e.m23*e.m34*e.m41-e.m24*e.m31*e.m43+e.m21*e.m34*e.m43+e.m23*e.m31*e.m44-e.m21*e.m33*e.m44;e.m22=e.m13*e.m34*e.m41-e.m14*e.m33*e.m41+e.m14*e.m31*e.m43-e.m11*e.m34*e.m43-e.m13*e.m31*e.m44+e.m11*e.m33*e.m44;e.m23=e.m14*e.m23*e.m41-e.m13*e.m24*e.m41-e.m14*e.m21*e.m43+e.m11*e.m24*e.m43+e.m13*e.m21*e.m44-e.m11*e.m23*e.m44;e.m24=e.m13*e.m24*e.m31-e.m14*e.m23*e.m31+e.m14*e.m21*e.m33-e.m11*e.m24*e.m33-e.m13*e.m21*e.m34+e.m11*e.m23*e.m34;e.m31=e.m22*e.m34*e.m41-e.m24*e.m32*e.m41+e.m24*e.m31*e.m42-e.m21*e.m34*e.m42-e.m22*e.m31*e.m44+e.m21*e.m32*e.m44;e.m32=e.m14*e.m32*e.m41-e.m12*e.m34*e.m41-e.m14*e.m31*e.m42+e.m11*e.m34*e.m42+e.m12*e.m31*e.m44-e.m11*e.m32*e.m44;e.m33=e.m12*e.m24*e.m41-e.m14*e.m22*e.m41+e.m14*e.m21*e.m42-e.m11*e.m24*e.m42-e.m12*e.m21*e.m44+e.m11*e.m22*e.m44;e.m34=e.m14*e.m22*e.m31-e.m12*e.m24*e.m31-e.m14*e.m21*e.m32+e.m11*e.m24*e.m32+e.m12*e.m21*e.m34-e.m11*e.m22*e.m34;e.m41=e.m23*e.m32*e.m41-e.m22*e.m33*e.m41-e.m23*e.m31*e.m42+e.m21*e.m33*e.m42+e.m22*e.m31*e.m43-e.m21*e.m32*e.m43;e.m42=e.m12*e.m33*e.m41-e.m13*e.m32*e.m41+e.m13*e.m31*e.m42-e.m11*e.m33*e.m42-e.m12*e.m31*e.m43+e.m11*e.m32*e.m43;e.m43=e.m13*e.m22*e.m41-e.m12*e.m23*e.m41-e.m13*e.m21*e.m42+e.m11*e.m23*e.m42+e.m12*e.m21*e.m43-e.m11*e.m22*e.m43;e.m44=e.m12*e.m23*e.m31-e.m13*e.m22*e.m31+e.m13*e.m21*e.m32-e.m11*e.m23*e.m32-e.m12*e.m21*e.m33+e.m11*e.m22*e.m33;return e.scale(1/e.__determinant__())},multiply:function(e){var t=this.__clone__();t.m11=t.m11*e.m11+t.m12*e.m21+t.m13*e.m31+t.m14*e.m41;t.m12=t.m11*e.m12+t.m12*e.m22+t.m13*e.m32+t.m14*e.m42;t.m13=t.m11*e.m13+t.m12*e.m23+t.m13*e.m33+t.m14*e.m43;t.m14=t.m11*e.m14+t.m12*e.m24+t.m13*e.m34+t.m14*e.m44;t.m21=t.m21*e.m11+t.m22*e.m21+t.m23*e.m31+t.m24*e.m41;t.m22=t.m21*e.m12+t.m22*e.m22+t.m23*e.m32+t.m24*e.m42;t.m23=t.m21*e.m13+t.m22*e.m23+t.m23*e.m33+t.m24*e.m43;t.m24=t.m21*e.m14+t.m22*e.m24+t.m23*e.m34+t.m24*e.m44;t.m31=t.m31*e.m11+t.m32*e.m21+t.m33*e.m31+t.m34*e.m41;t.m32=t.m31*e.m12+t.m32*e.m22+t.m33*e.m32+t.m34*e.m42;t.m33=t.m31*e.m13+t.m32*e.m23+t.m33*e.m33+t.m34*e.m43;t.m34=t.m31*e.m14+t.m32*e.m24+t.m33*e.m34+t.m34*e.m44;t.m41=t.m41*e.m11+t.m42*e.m21+t.m43*e.m31+t.m44*e.m41;t.m42=t.m41*e.m12+t.m42*e.m22+t.m43*e.m32+t.m44*e.m42;t.m43=t.m41*e.m13+t.m42*e.m23+t.m43*e.m33+t.m44*e.m43;t.m44=t.m41*e.m14+t.m42*e.m24+t.m43*e.m34+t.m44*e.m44;return t},multiplyLeft:function(e){},rotate:function(e,t,n){if(e&&!(t&&n)){return this.__rotateX__(e)}else if(t&&!(e&&n)){return this.__rotateY__(t)}else if(n&&!(e&&t)){return this.__rotateZ__(n)}return this},__rotateX__:function(e){var t=Math.cos(-e*Math.PI/180),n=Math.sin(-e*Math.PI/180),r=this.__clone__();r.m12=t*this.m12+n*this.m13;r.m22=t*this.m22+n*this.m23;r.m32=t*this.m32+n*this.m33;r.m42=t*this.m42+n*this.m43;r.m13=t*this.m13-n*this.m12;r.m23=t*this.m23-n*this.m22;r.m33=t*this.m33-n*this.m32;r.m43=t*this.m43-n*this.m42;return r},__rotateY__:function(e){var t=Math.cos(-e*Math.PI/180),n=Math.sin(-e*Math.PI/180),r=this.__clone__();r.m11=t*this.m11-n*this.m13;r.m21=t*this.m21-n*this.m23;r.m31=t*this.m31-n*this.m33;r.m41=t*this.m41-n*this.m43;r.m13=t*this.m13+n*this.m11;r.m23=t*this.m23+n*this.m21;r.m33=t*this.m33+n*this.m31;r.m43=t*this.m43+n*this.m41;return r},__rotateZ__:function(e){var t=Math.cos(-e*Math.PI/180),n=Math.sin(-e*Math.PI/180),r=this.__clone__();r.m11=t*this.m11+n*this.m12;r.m21=t*this.m21+n*this.m22;r.m31=t*this.m31+n*this.m32;r.m41=t*this.m41+n*this.m42;r.m12=t*this.m12-n*this.m11;r.m22=t*this.m22-n*this.m21;r.m32=t*this.m32-n*this.m31;r.m42=t*this.m42-n*this.m41;return r},rotateAxisAngle:function(e,t,n,r){t=t||e;n=n||t;if(e===1&&t===0&&n===0){return this.__rotateX__(r)}else if(e===0&&t===1&&n===0){return this.__rotateY__(r)}else if(e===0&&t===0&&n===1){return this.__rotateZ__(r)}var i=new CSSMatrix,s=Math.cos(r)*Math.PI/180,o=Math.sin(r)*Math.PI/180;i.m11=s+e*e*(1-s);i.m12=e*t*(1-s)-n*o;i.m13=e*n*(1-s)+t*o;i.m21=t*e*(1-s)+n*o;i.m22=s+t*t*(1-s);i.m23=t*n*(1-s)-e*o;i.m31=n*e*(1-s)-t*o;i.m32=n*t*(1-s)+e*o;i.m33=s+n*n*(1-s);return this.__clone__().multiply(i)},scale:function(e,t,n){t=t||e;n=n||1;var r=this.__clone__();r.m11*=e;r.m21*=t;r.m31*=n;r.m12*=e;r.m22*=t;r.m32*=n;r.m13*=e;r.m23*=t;r.m33*=n;r.m13*=e;r.m24*=t;r.m34*=n;return r},setMatrixValue:function(e){var t=e.match(/\d*[.]?\d+(?=,|\))/g);for(var n=0;n<16;n++){this["m"+((n/4|0)+1)+(n%4+1)]=Number(t[n])}return this},skewX:function(e){e*=Math.PI/180;var t=this.__clone__();t.m21=Math.tan(e);return t},skewY:function(e){e*=Math.PI/180;var t=this.__clone__();t.m12=Math.tan(e);return t},toString:function(){var e=this.m11;for(var t=1;t<16;t++){e+=","+this["m"+((t/4|0)+1)+(t%4+1)]}return"matrix3d("+e+")"},translate:function(e,t,n){var r=this.__clone__(),n=n||0;r.m41=r.m11*e+r.m21*t+r.m31*n+r.m41;r.m42=r.m12*e+r.m22*t+r.m32*n+r.m42;r.m43=r.m13*e+r.m14*t+r.m33*n+r.m43;r.m44=r.m14*e+r.m24*t+r.m34*n+r.m44;return r},__determinant__:function(){return this.m41*(+this.m14*this.m23*this.m32-this.m13*this.m24*this.m32-this.m14*this.m22*this.m33+this.m12*this.m24*this.m33+this.m13*this.m22*this.m34-this.m12*this.m23*this.m34)+this.m42*(+this.m11*this.m23*this.m34-this.m11*this.m24*this.m33+this.m14*this.m21*this.m33-this.m13*this.m21*this.m34+this.m13*this.m24*this.m31-this.m14*this.m23*this.m31)+this.m43*(+this.m11*this.m24*this.m32-this.m11*this.m22*this.m34-this.m14*this.m21*this.m32+this.m12*this.m21*this.m34+this.m14*this.m22*this.m31-this.m12*this.m24*this.m31)+this.m44*(-this.m13*this.m22*this.m31-this.m11*this.m23*this.m32+this.m11*this.m22*this.m33+this.m13*this.m21*this.m32-this.m12*this.m21*this.m33+this.m12*this.m23*this.m31)},__clone__:function(){var e=new CSSMatrix;for(var t=0;t<16;t++){e["m"+((t/4|0)+1)+(t%4+1)]=this["m"+((t/4|0)+1)+(t%4+1)]}return e}}